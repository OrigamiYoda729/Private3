Json={};Json.Serializer={};window.JSON&&JSON.stringify(document.createElement("input").value)==='"null"'&&function(){var n=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value").get;Object.defineProperty(HTMLInputElement.prototype,"value",{get:function(){var t=n.call(this);return t===""?"":t}})}();Json.clearLocalStorage=function(){window.localStorage&&(localStorage.clear(),localStorage.setItem("lastCleared",(new Date).getTime()),personId&&localStorage.setItem("loggedInPersonId",personId))};Json.Serializer.serialize=function(n){if(window.JSON)return JSON.stringify(n);var t=[];return Json.Serializer._serializeType(t,n),t.join("")};Json.Serializer.escape=function(n){return n=n.replace(new RegExp("\\\\","g"),"\\\\"),n=n.replace(new RegExp('"',"g"),'\\"'),n.replace(new RegExp("\n","g"),"\\n")};Json.Serializer._serializeObject=function(n,t){var r=0,i;n.push("{");for(i in t)r>0&&n.push(","),n.push('"'),n.push(i.toString()),n.push('":'),n.push(Json.Serializer._serializeType(n,t[i])),r++;n.push("}")};Json.Serializer._serializeArray=function(n,t){n.push("[");for(var i=0;i<t.length;i++)i>0&&n.push(","),n.push(Json.Serializer._serializeType(n,t[i]));n.push("]")};Json.Serializer._serializeType=function(n,t){t===null?n.push("null"):t.constructor===String?(n.push('"'),n.push(Json.Serializer.escape(t)),n.push('"')):t.constructor===Number||t.constructor===Boolean?n.push(t.toString()):t.constructor===Date?(n.push('"'),n.push(t.getMonth()+1),n.push("/"),n.push(t.getDate()),n.push("/"),n.push(t.getFullYear()),n.push('"')):t.constructor===Array?Json.Serializer._serializeArray(n,t):t.constructor===Function?n.push('"function"'):Json.Serializer._serializeObject(n,t)};Json.Serializer.deserialize=function(n){return n.length==0?null:window.JSON?JSON.parse(n):eval("("+n+")")};Json.Request=function(n,t){this._uri=[n,t].join("/");$("PageUniqueId")&&(this._uri=[this._uri,"?PageUniqueId=",$("PageUniqueId").value].join(""))};Json.Request._createXmlHttpRequest=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(n){}}return null};Json.Request.prototype.onComplete=function(){};Json.Request.prototype.onError=function(n){if(this._request&&[401,403].indexOf(this._request.status)>=0){Element.showStatusMessage("Access denied.",5e3);return}var t="An error has occurred on the server.\n\nIf you continue to receive this message please contact your gradebook manager.";n.customErrors||(t+="\n\n\nTechnical Information:\n",t+=n.type+": ",t+=n.message,t+="\n\nStack Trace:\n"+n.stackTrace);window.alert(t)};Json.Request.prototype.onSuccess=null;Json.Request.prototype.getContentType=function(){var n=this._request.getResponseHeader("Content-Type");return n==null?null:n.split(";")[0]};Json.Request.prototype._onReadyStateChange=function(){if(this._request.readyState==4){if(this.onComplete(),this.getContentType()=="application/json"){var n=Json.Serializer.deserialize(this._request.responseText);if(this._request.status==200)this.onSuccess(n);else this.onError(n)}else this.onError({type:this._request.status,message:this._request.statusText});this._request.onreadystatechange=Function.empty;this._request=null}};Json.Request.prototype._invokeAsync=function(n){if(this._request)throw"Request already in progress.";this._request=Json.Request._createXmlHttpRequest();this._request.open("POST",this._uri,!0);this._request.onreadystatechange=this._onReadyStateChange.bind(this);this._request.setRequestHeader("Content-Type","application/json");this._request.send(Json.Serializer.serialize(n))};Json.Request.prototype.invoke=function(n){if(typeof n=="undefined"&&(n={}),this.onSuccess)return this._invokeAsync(n);var t=this.getRequest(n);if(t.status!=200)throw t.responseText;return this.getResponseData(t.responseText)};Json.Request.prototype.invokeAndCache=function(n,t){var r,u,i;if(window.localStorage)if(r=localStorage.getItem("lastCleared"),r!=null&&(new Date).getTime()-r<6e5){if(u=localStorage.getItem(n),u!==null)return this.getResponseData(u)}else Json.clearLocalStorage();if(typeof t=="undefined"&&(t={}),this.onSuccess)return this._invokeAsync(t);if(i=this.getRequest(t),i.status!=200)throw i.responseText;return window.localStorage&&localStorage.setItem(n,i.responseText),this.getResponseData(i.responseText)};Json.Request.prototype.getRequest=function(n){var t=Json.Request._createXmlHttpRequest();return t.open("POST",this._uri,!1),t.setRequestHeader("Content-Type","application/json"),t.send(Json.Serializer.serialize(n)),t};Json.Request.prototype.getResponseData=function(n){return Json.Serializer.deserialize(n)};Json.Request.prototype.abort=function(){this._request&&(this._request.onreadstatechange=Function.empty,this._request.abort(),this._request=null)};