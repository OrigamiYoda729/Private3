Event={};Event._nextId=1;Event.EventHandler=function(n,t){this.id=Event._nextId++;this.func=n;this.object=t;this.fire=function(i){return n.call(t,Event.normalize(i))}};Event._stopPropagation=function(){this.cancelBubble=!0};Event._preventDefault=function(){this.returnValue=!1};Event.normalize=function(n){return n==null&&(n=window.event),n.stopPropagation==null&&(n.stopPropagation=Event._stopPropagation),n.preventDefault==null&&(n.preventDefault=Event._preventDefault),n.target===undefined&&(n.target=n.srcElement),n.srcElement===undefined&&(n.srcElement=n.originalTarget),n};Event.createDelegate=function(n,t){return function(i){n[t](Event.normalize(i))}};Event._findHandler=function(n,t,i){var u=n.__handlers,r,f;if(u)for(f in u)if(r=u[f],r.func==t&&r.object==i)return r;return null};Event.addListener=function(n,t,i,r){var u=new Event.EventHandler(i,r);n.addEventListener?n.addEventListener(t,u.fire,!1):n.attachEvent&&n.attachEvent("on"+t,u.fire);n.__handlers||(n.__handlers={});n.__handlers[u.id]=u};Event.removeListener=function(n,t,i,r){var u=Event._findHandler(n,i,r);u&&(n.removeEventListener?n.removeEventListener(t,u.fire,!1):n.detachEvent&&n.detachEvent("on"+t,u.fire),delete n.__handlers[u.id])};