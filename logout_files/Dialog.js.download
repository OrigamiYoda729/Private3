function Dialog(n){this.id=n}Lightbox={};Lightbox._id="Lightbox";Lightbox._create=function(){var n=document.createElement("DIV");return n.id=this._id,document.body.appendChild(n),n};Lightbox.show=function(){Element.show($(this._id)||Lightbox._create())};Lightbox.hide=function(){Element.hide($(this._id))};Dialog.prototype.open=function(){var n,i,t;if(Event.addListener(document,"click",this._onClick,this),Event.addListener(document,"change",this._onChange,this),Event.addListener(document,"keydown",this._onKeyDown,this),n=$(this.id),n.className.toUpperCase()==="MODAL"){i=this;t=jQuery(n);t.modal();t.on("hide.bs.modal",function(){i.onClosing();t.off("hide.bs.modal")});return}Lightbox.show();Element.show(n);Element.center(n)};Dialog.prototype.openWidth=function(n){var t=$(this.id),r,i;if(Event.addListener(document,"click",this._onClick,this),Event.addListener(document,"change",this._onChange,this),Event.addListener(document,"keydown",this._onKeyDown,this),t.className.toUpperCase()==="MODAL"){r=this;i=jQuery(t);i.modal();i.on("hide.bs.modal",function(){r.onClosing();i.off("hide.bs.modal")});return}Lightbox.show();Element.show(t);Element.centerWidth(t,n)};Dialog.prototype.onClosing=Function.empty;Dialog.prototype.close=function(){var n,t;if(this.onClosing(),Event.removeListener(document,"click",this._onClick,this),Event.removeListener(document,"change",this._onChange,this),Event.removeListener(document,"keydown",this._onKeyDown,this),n=$(this.id),n.className.toUpperCase().indexOf("MODAL")>=0){t=jQuery(n);t.modal("hide");t.off("hide.bs.modal");return}Element.hide(n);Lightbox.hide()};Dialog.prototype._onClick=function(n){var i=n.target.name||n.target.id,t=this["onClick_"+i];t&&(t.call(this,n),n.stopPropagation())};Dialog.prototype._onChange=function(n){var i=n.target.name||n.target.id,t=this["onChange_"+i];t&&(t.call(this,n),n.stopPropagation())};Dialog.prototype._onKeyDown=function(n){n&&n.keyCode==27&&this.close()};